<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لیست پروکسی تلگرام</title>
  <script src="proxy.js?v=1.3"></script>
  <link rel="stylesheet" href="style.css"> <link rel="stylesheet" href="proxy.css"> <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app-preloader" class="app-preloader" style="display:flex; align-items:center; justify-content:center;">
        <div class="rocket-scene" aria-hidden="true">
            <div class="stars"></div>
            <div class="rocket" id="rocket">
                <span class="emoji">🚀</span>
                <span class="flame"></span>
                <span class="trail"></span>
            </div>
        </div>
        <div class="preloader-title">در حال پرواز...</div>
    </div>
    <div class="container">
        <header>
            <h1 id="table-title">⚡️ همه پروکسی‌های تلگرام <span id="total-count" class="count-badge">(0)</span> <button id="title-refresh" class="icon-btn" aria-label="refresh">↻</button></h1>
            <div class="header-controls">
                <div class="theme-switcher">
                    <input type="checkbox" id="theme-toggle">
                    <label for="theme-toggle">
                        <span class="sun">☀️</span>
                        <span class="moon">🌙</span>
                    </label>
                </div>
                <a id="backBtn" href="welcome.html">بازگشت</a>
                <button id="refreshBtn">بروزرسانی</button>
            </div>
        </header>

        <main>
            <div class="sub-link-bar">
                <div class="sub-link-label">⚡ Source:</div>
                <div id="sub-link" class="sub-link-value" dir="ltr">—</div>
                <button id="copy-sub" class="icon-btn">کپی</button>
            </div>
            <div class="info-bar alt">
                <div id="summary-text">درحال دریافت اطلاعات...</div>
                <div id="ping-legend" class="legend"></div>
                <div class="controls">
                    <label for="itemsPerPage">نمایش:</label>
                    <select id="itemsPerPage">
                        <option value="10" selected>۱۰ پروکسی</option>
                        <option value="20">۲۰ پروکسی</option>
                        <option value="50">۵۰ پروکسی</option>
                        <option value="all">همه</option>
                    </select>
                </div>
            </div>

            <div id="loader" class="loader"></div>
            <div id="proxy-list-container" class="table-wrap"></div>
            <div class="show-all"><button id="show-all" class="show-all-btn">نمایش همه</button></div>
        </main>
    </div>
    
    <footer>
        <div class="popup-content">
            <span>ساخته شده توسط:</span>
            <a href="https://t.me/im_pwr" target="_blank">@im_pwr</a>
            <span> و </span>
            <a href="https://t.me/Veuca" target="_blank">@Veuca</a>
            <span>| اسپانسر:</span>
            <a href="https://t.me/VorTexIRN" target="_blank">@VorTexIRN</a>
        </div>
    </footer>

    <script>
      (function(){
        function revealPage(){
          var preloader = document.getElementById('app-preloader');
          document.body.classList.remove('preloading');
          document.body.classList.add('page-enter');
          if (preloader) preloader.classList.add('hidden');
        }
        // Start a fallback timer to guarantee reveal (in case animation event is missed)
        var fallbackTimer = setTimeout(revealPage, 3000);
        // Prefer revealing exactly when rocket exits the screen
        document.addEventListener('animationend', function(e){
          if (e && e.target && e.target.id === 'rocket') {
            clearTimeout(fallbackTimer);
            revealPage();
          }
        }, { passive: true });
      })();
    </script>
</body>
</html>